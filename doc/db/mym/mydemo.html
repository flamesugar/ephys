<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of mydemo</title>
  <meta name="keywords" content="mydemo">
  <meta name="description" content="% MYDEMO: Demonstrate usage of mym utilities">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="#">db</a> &gt; <a href="index.html">mym</a> &gt; mydemo.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for db\mym&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>mydemo
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% MYDEMO: Demonstrate usage of mym utilities</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% MYDEMO: Demonstrate usage of mym utilities
 Example: mydemo (Oh, the FEX code metrics..)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="dbadd.html" class="code" title="function dbadd(dbname)">dbadd</a>	dbadd    Create MySQL database          [mym utilities]</li><li><a href="dbcurr.html" class="code" title="function[name] = dbcurr">dbcurr</a>	dbcurr   Current MySQL database         [mym utilities]</li><li><a href="dblist.html" class="code" title="function[names] = dblist">dblist</a>	dblist   List MySQL databases           [mym utilities]</li><li><a href="dbopen.html" class="code" title="function dbopen(name)">dbopen</a>	dbopen   Make MySQL database current    [mym utilities]</li><li><a href="isdbase.html" class="code" title="function[i] = isdbase(name)">isdbase</a>	isdbase  True if MySQL database exists  [mym utilities]</li><li><a href="myclose.html" class="code" title="function myclose">myclose</a>	myclose  Disconnect from MySQL          [mym utilities]</li><li><a href="myisopen.html" class="code" title="function[i] = myisopen">myisopen</a>	myisopen True if MySQL instance active  [mym utilities]</li><li><a href="mym.html" class="code" title="">mym</a>	MYM - Interact with a MySQL database server</li><li><a href="myopen.html" class="code" title="function myopen(host,user,pwd)">myopen</a>	myopen   Connect to MySQL               [mym utilities]</li><li><a href="tbadd.html" class="code" title="function tbadd(table,names,types,varargin)">tbadd</a>	tbadd    Create MySQL table             [mym utilities]</li><li><a href="tbattr.html" class="code" title="function[varargout] = tbattr(table)">tbattr</a>	tbattr   List columns of MySQL table    [mym utilities]</li><li><a href="tblist.html" class="code" title="function[tables] = tblist(varargin)">tblist</a>	tblist   List tables of MySQL database  [mym utilities]</li><li><a href="tbread.html" class="code" title="function tbread(table,cols,vecs,sql)">tbread</a>	tbread   Read from MySQL table          [mym utilities]</li><li><a href="tbsize.html" class="code" title="function[size] = tbsize(table,varargin)">tbsize</a>	tbsize   Size of MySQL table            [mym utilities]</li><li><a href="tbwrite.html" class="code" title="function tbwrite(table,cols,vecs,varargin)">tbwrite</a>	tbwrite  Write to MySQL table           [mym utilities]</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% MYDEMO: Demonstrate usage of mym utilities</span>
0002 <span class="comment">% Example: mydemo (Oh, the FEX code metrics..)</span>
0003 
0004 <span class="comment">%% List available functions</span>
0005 lookfor <a href="mym.html" class="code" title="">mym</a>
0006 
0007 <span class="comment">%% Connect to MySQL</span>
0008 <a href="myisopen.html" class="code" title="function[i] = myisopen">myisopen</a>
0009 <a href="myopen.html" class="code" title="function myopen(host,user,pwd)">myopen</a>(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'fairfax'</span>)
0010 <a href="myisopen.html" class="code" title="function[i] = myisopen">myisopen</a>
0011 
0012 <span class="comment">%% List available databases</span>
0013 <a href="dblist.html" class="code" title="function[names] = dblist">dblist</a>
0014 
0015 <span class="comment">%% Create database 'test2'</span>
0016 <a href="dbadd.html" class="code" title="function dbadd(dbname)">dbadd</a>(<span class="string">'test2'</span>)
0017 
0018 <span class="comment">%% Confirm that database 'test2' was created</span>
0019 <a href="isdbase.html" class="code" title="function[i] = isdbase(name)">isdbase</a>(<span class="string">'test2'</span>)
0020 
0021 <span class="comment">%% Make database 'test2' current</span>
0022 <a href="dbcurr.html" class="code" title="function[name] = dbcurr">dbcurr</a>
0023 <a href="dbopen.html" class="code" title="function dbopen(name)">dbopen</a>(<span class="string">'test2'</span>)
0024 <a href="dbcurr.html" class="code" title="function[name] = dbcurr">dbcurr</a>
0025 
0026 <span class="comment">%% Load FEX download data in file 'fex.txt' to table 'fex'</span>
0027 <a href="mym.html" class="code" title="">mym</a>([<span class="string">'create table fex ('</span> <span class="keyword">...</span>
0028      <span class="string">'time datetime, '</span> <span class="keyword">...</span>
0029      <span class="string">'id   mediumint unsigned, '</span> <span class="keyword">...</span>
0030      <span class="string">'rank smallint  unsigned, '</span> <span class="keyword">...</span>
0031      <span class="string">'file smallint  unsigned, '</span> <span class="keyword">...</span>
0032      <span class="string">'fcat tinyint   unsigned, '</span> <span class="keyword">...</span>
0033      <span class="string">'down smallint  unsigned)'</span>])
0034 tic
0035 <a href="mym.html" class="code" title="">mym</a>([<span class="string">'load data infile ''D:/Program Files/Matlab/work/fexstat/fex.txt'' '</span> <span class="keyword">...</span>
0036      <span class="string">'into table fex lines terminated by ''\n'' '</span> <span class="keyword">...</span>
0037      <span class="string">'(@time,id,rank,file,fcat,down) '</span> <span class="keyword">...</span>
0038      <span class="string">'set time = str_to_date(@time,''%d-%b-%Y %H:%i:%s'')'</span>])
0039 toc 
0040 
0041 <span class="comment">%% List tables in database 'test2'</span>
0042 <a href="tblist.html" class="code" title="function[tables] = tblist(varargin)">tblist</a>
0043 
0044 <span class="comment">%% List names and types of 'fex' columns</span>
0045 [names, types] = <a href="tbattr.html" class="code" title="function[varargout] = tbattr(table)">tbattr</a>(<span class="string">'fex'</span>)
0046 <a href="tbsize.html" class="code" title="function[size] = tbsize(table,varargin)">tbsize</a>(<span class="string">'fex'</span>)
0047 
0048 <span class="comment">%% Read contents of table 'fex' into Matlab workspace</span>
0049 who
0050 tic
0051 <a href="tbread.html" class="code" title="function tbread(table,cols,vecs,sql)">tbread</a>(<span class="string">'fex'</span>,names,names,<span class="string">''</span>)
0052 toc
0053 who
0054 
0055 <span class="comment">%% Write loaded data back to MySQL (500 rows per pass), to a table that is a copy of 'fex'</span>
0056 tic
0057 <a href="tbadd.html" class="code" title="function tbadd(table,names,types,varargin)">tbadd</a>(<span class="string">'fex2'</span>,names,types,<span class="string">'replace'</span>)
0058 <a href="tbwrite.html" class="code" title="function tbwrite(table,cols,vecs,varargin)">tbwrite</a>(<span class="string">'fex2'</span>,names,names,500)
0059 toc
0060 <a href="tbsize.html" class="code" title="function[size] = tbsize(table,varargin)">tbsize</a>(<span class="string">'fex2'</span>)
0061 
0062 <span class="comment">%% Disconnect from MySQL</span>
0063 <a href="myclose.html" class="code" title="function myclose">myclose</a></pre></div>
<hr><address>Generated on Thu 11-Jul-2013 10:16:49 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>