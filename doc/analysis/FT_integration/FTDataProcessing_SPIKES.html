<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of FTDataProcessing_SPIKES</title>
  <meta name="keywords" content="FTDataProcessing_SPIKES">
  <meta name="description" content="% Set some variables">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">analysis</a> &gt; <a href="index.html">FT_integration</a> &gt; FTDataProcessing_SPIKES.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for analysis\FT_integration&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>FTDataProcessing_SPIKES
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% Set some variables</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Set some variables</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="ft_read_spikes_tdt.html" class="code" title="function data = ft_read_spikes_tdt(cfg)">ft_read_spikes_tdt</a>	data = ft_read_spikes_tdt(cfg)</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Set some variables</span>
0002 tank  = <span class="string">'SLYTHERIN_VTA_INTEGRATED'</span>;
0003 block = 5;
0004 
0005 <span class="comment">% tank  = 'ROCKSTAR_V_T_A';</span>
0006 <span class="comment">% block = 1;</span>
0007 
0008 
0009 <span class="comment">% %% Read SPIKEs from Plexon file</span>
0010 <span class="comment">% [plxfile,path2plx] = uigetfile({'*.plx','Plexon file (*.plx)'}, ...</span>
0011 <span class="comment">%     'Locate Plexon File');</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% SPIKE = ft_read_spike(fullfile(path2plx,plxfile));</span>
0014 
0015 <span class="comment">%% Read SPIKES directly from TDT Tank (with sort codes if available)</span>
0016 cfg = [];
0017 cfg.tank     = tank;
0018 cfg.block    = block;
0019 cfg.blockroot = [tank <span class="string">'-'</span>];
0020 cfg.event    = <span class="string">'eNeu'</span>;
0021 cfg.sortname = <span class="string">'FullBayes'</span>;
0022 SPIKE = <a href="ft_read_spikes_tdt.html" class="code" title="function data = ft_read_spikes_tdt(cfg)">ft_read_spikes_tdt</a>(cfg);
0023 
0024 
0025 <span class="comment">%% Call custom trial function (trialfun_tdt) to segment SPIKE data</span>
0026 cfg = [];
0027 cfg.tank        = tank;
0028 cfg.blocks      = block;
0029 cfg.blockroot   = [tank <span class="string">'-'</span>];
0030 cfg.trialfun            = <span class="string">'trialfun_tdt'</span>;
0031 cfg.trialdef.prestim    = 0.5; <span class="comment">% &lt;-- positive value means trial begins before trigger</span>
0032 cfg.trialdef.poststim   = 0.5;
0033 cfg.trialdef.eventtype  = <span class="string">'BitM'</span>;
0034 cfg.trialdef.eventvalue = 16;   <span class="comment">% &lt;-- set event value</span>
0035 cfg.trialdef.fsample    = SPIKE.hdr.ADFrequency; <span class="comment">% &lt;-- must specify appropriate sampling rate in trial definition</span>
0036 cfg.timestampspersecond = SPIKE.hdr.ADFrequency;
0037 
0038 tcfg = ft_definetrial(cfg);
0039 visSPIKE = ft_spike_maketrials(tcfg,SPIKE);
0040 
0041 
0042 cfg.trialdef.eventvalue = 32;
0043 tcfg = ft_definetrial(cfg);
0044 audSPIKE = ft_spike_maketrials(tcfg,SPIKE);
0045 
0046 
0047 
0048 <span class="comment">%% Do stuff with the waveforms if you like</span>
0049 cfg             = [];
0050 cfg.fsample     = SPIKE.hdr.ADFrequency;
0051 cfg.interpolate = 1; <span class="comment">% keep the density of samples as is</span>
0052 cfg.align       = <span class="string">'no'</span>;
0053 cfg.rejectclippedspikes = <span class="string">'yes'</span>;
0054 [wave, SPIKECleaned] = ft_spike_waveform(cfg,SPIKE);
0055 
0056</pre></div>
<hr><address>Generated on Thu 11-Jul-2013 10:16:49 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>